{"version":3,"sources":["utils/helpers.js","components/Controls/Controls.jsx","App.jsx","index.jsx"],"names":["setTimeFormat","totalSecs","seconds","minutes","Math","floor","hours","hoursFormat","minutesFormat","secondsFormant","Controls","time","start","stop","reset","wait","className","type","onClick","App","useState","state","setState","setTime","stop$","useMemo","Subject","click$","useCallback","next","useEffect","doubleClick$","pipe","buffer","debounceTime","map","list","length","filter","value","subscribtion$","Observable","observer","count","intervalId","setInterval","console","log","clearInterval","takeUntil","subscribe","prev","unsubscribe","ReactDOM","render","document","getElementById"],"mappings":"yOAiBeA,EAjBO,SAACC,GACrB,IAAMC,EAAUD,EAAY,GACtBE,EAAUC,KAAKC,MAAMJ,EAAY,IACjCK,EAAQF,KAAKC,MAAMJ,EAAY,MAC/BM,EACJD,EAAQ,GAAKA,EAAQ,GACjB,KACAA,GAAS,GAAKA,GAAS,EAAvB,WACIA,GADJ,UAEGA,GACHE,EACJL,EAAU,GAAkB,IAAZA,EAAgB,KAAhB,WAA2BA,GAA3C,UAA2DA,GACvDM,EAAiBP,EAAU,GAAV,WAAmBA,GAAnB,UAAkCA,GAEzD,MAAM,GAAN,OAAUK,EAAV,YAAyBC,EAAzB,YAA0CC,I,OCV/BC,EAAW,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,KAAMC,EAAtB,EAAsBA,MAAOC,EAA7B,EAA6BA,KAA7B,OACtB,qCACE,yBAAQC,UAAU,SAAlB,UACE,oBAAIA,UAAU,qBAAd,wBACA,oBAAIA,UAAU,sBAAd,SAAqChB,EAAcW,QAErD,yBAASK,UAAU,OAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,wBAAQC,KAAK,SAASD,UAAU,iBAAiBE,QAASN,EAA1D,mBAGA,wBAAQK,KAAK,SAASD,UAAU,iBAAiBE,QAASL,EAA1D,kBAGA,wBAAQI,KAAK,SAASD,UAAU,iBAAiBE,QAASJ,EAA1D,mBAGA,wBAAQG,KAAK,SAASD,UAAU,iBAAiBE,QAASH,EAA1D,2BC0DOI,EAzEH,WAAO,IAAD,EACUC,mBAAS,QADnB,mBACTC,EADS,KACFC,EADE,OAEQF,mBAAS,GAFjB,mBAETT,EAFS,KAEHY,EAFG,KAIVC,EAAQC,mBAAQ,kBAAM,IAAIC,MAAW,IACrCC,EAASF,mBAAQ,kBAAM,IAAIC,MAAW,IAMtCb,EAAOe,uBAAY,WACvBL,EAAQ,GACRD,EAAS,UACR,IAEGR,EAAQc,uBAAY,WACxBL,EAAQ,KACP,IAEGR,EAAOa,uBAAY,WACvBD,EAAOE,OACPP,EAAS,QACTK,EAAOE,SACN,IAoCH,OAlCAC,qBAAU,WACR,IAAMC,EAAeJ,EAAOK,KAC1BC,YAAON,EAAOK,KAAKE,YAAa,OAChCC,aAAI,SAACC,GAAD,OAAUA,EAAKC,UACnBC,aAAO,SAACC,GAAD,OAAWA,GAAS,MAcvBC,EAZS,IAAIC,KAAW,SAACC,GAC7B,IAAIC,EAAQ,EACNC,EAAaC,aAAY,WAC7BH,EAASb,KAAMc,GAAS,GACxBG,QAAQC,IAAIJ,KACX,KAEH,OAAO,WACLK,cAAcJ,OAKfZ,KAAKiB,YAAUlB,IACfC,KAAKiB,YAAUzB,IACf0B,UAAU,CACTrB,KAAM,WACU,UAAVR,GACFE,GAAQ,SAAC4B,GAAD,OAAUA,EAAO,QAKjC,OAAO,WACLX,EAAcY,iBAEf,CAAC/B,IAGF,yBAASL,UAAU,YAAnB,SACE,cAAC,EAAD,CACEL,KAAMA,EACNC,MAzDQ,WACZU,EAAS,UAyDLT,KAAMA,EACNC,MAAOA,EACPC,KAAMA,OCnEdsC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.507ff9fa.chunk.js","sourcesContent":["const setTimeFormat = (totalSecs) => {\r\n  const seconds = totalSecs % 60;\r\n  const minutes = Math.floor(totalSecs / 60);\r\n  const hours = Math.floor(totalSecs / 3600);\r\n  const hoursFormat =\r\n    hours < 1 || hours > 23\r\n      ? \"00\"\r\n      : hours >= 1 && hours <= 9\r\n      ? `0${hours}`\r\n      : `${hours}`;\r\n  const minutesFormat =\r\n    minutes < 10 ? (minutes === 0 ? \"00\" : `0${minutes}`) : `${minutes}`;\r\n  const secondsFormant = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n\r\n  return `${hoursFormat}:${minutesFormat}:${secondsFormant}`;\r\n};\r\n\r\nexport default setTimeFormat;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport setTimeFormat from \"../../utils/helpers\";\r\n\r\nexport const Controls = ({ time, start, stop, reset, wait }) => (\r\n  <>\r\n    <header className=\"header\">\r\n      <h1 className=\"stopwatch headline\">StartWatch</h1>\r\n      <h1 className=\"stopwatch indicator\">{setTimeFormat(time)}</h1>\r\n    </header>\r\n    <section className=\"main\">\r\n      <div className=\"container\">\r\n        <button type=\"button\" className=\"button is-dark\" onClick={start}>\r\n          Start\r\n        </button>\r\n        <button type=\"button\" className=\"button is-dark\" onClick={stop}>\r\n          Stop\r\n        </button>\r\n        <button type=\"button\" className=\"button is-dark\" onClick={reset}>\r\n          Reset\r\n        </button>\r\n        <button type=\"button\" className=\"button is-dark\" onClick={wait}>\r\n          Wait\r\n        </button>\r\n      </div>\r\n    </section>\r\n  </>\r\n);\r\n\r\nControls.propTypes = {\r\n  time: PropTypes.number.isRequired,\r\n  start: PropTypes.func.isRequired,\r\n  stop: PropTypes.func.isRequired,\r\n  reset: PropTypes.func.isRequired,\r\n  wait: PropTypes.func.isRequired,\r\n};\r\n","import React, { useCallback, useEffect, useState, useMemo } from \"react\";\r\nimport { Observable, Subject } from \"rxjs\";\r\nimport { map, buffer, debounceTime, filter, takeUntil } from \"rxjs/operators\";\r\n\r\nimport { Controls } from \"./components/Controls\";\r\n\r\nconst App = () => {\r\n  const [state, setState] = useState(\"stop\");\r\n  const [time, setTime] = useState(0);\r\n\r\n  const stop$ = useMemo(() => new Subject(), []);\r\n  const click$ = useMemo(() => new Subject(), []);\r\n\r\n  const start = () => {\r\n    setState(\"start\");\r\n  };\r\n\r\n  const stop = useCallback(() => {\r\n    setTime(0);\r\n    setState(\"stop\");\r\n  }, []);\r\n\r\n  const reset = useCallback(() => {\r\n    setTime(0);\r\n  }, []);\r\n\r\n  const wait = useCallback(() => {\r\n    click$.next();\r\n    setState(\"wait\");\r\n    click$.next();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const doubleClick$ = click$.pipe(\r\n      buffer(click$.pipe(debounceTime(300))),\r\n      map((list) => list.length),\r\n      filter((value) => value >= 2)\r\n    );\r\n    const timer$ = new Observable((observer) => {\r\n      let count = 0;\r\n      const intervalId = setInterval(() => {\r\n        observer.next((count += 1));\r\n        console.log(count);\r\n      }, 1000);\r\n\r\n      return () => {\r\n        clearInterval(intervalId);\r\n      };\r\n    });\r\n\r\n    const subscribtion$ = timer$\r\n      .pipe(takeUntil(doubleClick$))\r\n      .pipe(takeUntil(stop$))\r\n      .subscribe({\r\n        next: () => {\r\n          if (state === \"start\") {\r\n            setTime((prev) => prev + 1);\r\n          }\r\n        },\r\n      });\r\n\r\n    return () => {\r\n      subscribtion$.unsubscribe();\r\n    };\r\n  }, [state]);\r\n\r\n  return (\r\n    <section className=\"stopwatch\">\r\n      <Controls\r\n        time={time}\r\n        start={start}\r\n        stop={stop}\r\n        reset={reset}\r\n        wait={wait}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./styles/index.scss\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}